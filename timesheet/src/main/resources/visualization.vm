<html>
<head>
    <title>Visualization</title>
    <meta name="decorator" content="atl.admin">
    <meta name="decorator" content="atl.userprofile">
    $webResourceManager.requireResource("org.catrobat.jira.timesheet:visualization-resources")
</head>
<body>

<script type="text/javascript">
    var timesheetID = $timesheetid;
</script>

<script type="application/javascript">
    function showLineDiagram() {
        document.getElementById("lineDiagram").style.visibility = "visible";
        document.getElementById("lineDiagramTag").style.visibility = "visible";
    }
</script>

<script type="application/javascript">
    function showCategoryDiagram() {
        document.getElementById("categoryLineDiagram").style.visibility = "visible";
        document.getElementById("categoryLineDiagramTag").style.visibility = "visible";
    }
</script>

<script type="application/javascript">
    function showTeamDiagram() {
        document.getElementById("teamLineDiagram").style.visibility = "visible";
        document.getElementById("teamLineDiagramTag").style.visibility = "visible";
    }
</script>

<h3>User Statistics</h3>

<div class="aui-tabs horizontal-tabs">
    <ul class="tabs-menu">
        <li class="menu-item active-tab">
            <a href="#tabs-overview">Overview</a>
        </li>
        <li class="menu-item">
            <a href="#tabs-line" onclick="showLineDiagram();">Time - Visualization</a>
        </li>
        <li class="menu-item">
            <a href="#tabs-category" onclick="showCategoryDiagram();">Category - Visualization</a>
        </li>
        <li class="menu-item">
            <a href="#tabs-team" onclick="showTeamDiagram();">Team - Visualization</a>
        </li>
    </ul>
    <div class="tabs-pane active-pane" id="tabs-overview">
        <table id="visualization-table" class="aui aui-table-interactive aui-table-sortable">
            <thead>
            <tr>
                <th id="basic-date">Description</th>
                <th id="basic-time">Value</th>
            </tr>
            </thead>
            <tbody class="list" id="visualization-table-content">
            #* will be filled out by JavaScript *#
            </tbody>
        </table>

        <h3>Visualization of your theory - practical hours distribution</h3>
        <div id="piChartDiagram" style="height: 200px;"></div>
    </div>
    <div class="tabs-pane active-pane" id="tabs-line">
        <h3 id="lineDiagramTag">Visualization of your spent time</h3>
        <div id="lineDiagram" style="height:250px;"></div>
    </div>
    <div class="tabs-pane active-pane" id="tabs-category">
        <h3 id="categoryLineDiagramTag">Visualization of your spent time on categories</h3>
        <div id="categoryLineDiagram"></div>
    </div>
    <div class="tabs-pane active-pane" id="tabs-team">
        <h3 id="teamLineDiagramTag">Team Visualization</h3>
        <div id="teamLineDiagram" style="height: 250px;"></div>
    </div>
</div>


<script>
    function drawTeamDiagram(data, labelData) {
        new Morris.Bar({
            // ID of the element in which to draw the chart.
            element: 'teamLineDiagram',
            // Chart data records -- each entry in this array corresponds to a point on
            // the chart.
            data,
            // The name of the data record attribute that contains x-values.
            xkey: 'year',
            // A list of names of data record attributes that contain y-values.
            ykeys: ['team1', 'team2', 'team3', 'team4', 'team5'],
            // Labels for the ykeys -- will be displayed when you hover over the
            // chart.
            labels: labelData,
        });
    }
</script>

<script>
    function drawPiChart(data) {
        new Morris.Donut({
            // ID of the element in which to draw the chart.
            //element: 'piChartDiagram',
            element: 'piChartDiagram',
            // Chart data records -- each entry in this array corresponds to a point on
            // the chart.
            data,
        });
    }
</script>

<script>
    function drawDiagram(data) {
        new Morris.Line({
            // ID of the element in which to draw the chart.
            element: 'lineDiagram',
            // Chart data records -- each entry in this array corresponds to a point on
            // the chart.
            data,
            // The name of the data record attribute that contains x-values.
            xkey: 'year',
            // A list of names of data record attributes that contain y-values.
            ykeys: ['value'],
            // Labels for the ykeys -- will be displayed when you hover over the
            // chart.
            labels: ['hours'],
        });
    }
</script>

<script>
    function drawCategoryDiagram(data, labelData) {
        new Morris.Area({
            // ID of the element in which to draw the chart.
            element: 'categoryLineDiagram',
            // Chart data records -- each entry in this array corresponds to a point on
            // the chart.
            data,
            // The name of the data record attribute that contains x-values.
            xkey: 'year',
            // A list of names of data record attributes that contain y-values.
            ykeys: ['cat1', 'cat2', 'cat3', 'cat4', 'cat5'],
            // Labels for the ykeys -- will be displayed when you hover over the
            // chart.
            labels: labelData,
        });
    }
</script>

</body>
</html>
